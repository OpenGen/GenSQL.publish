= Exploring satellite data with GenSQL

The GenSQL query language extends a subset of SQL.

[gensql]
----
SELECT * FROM satellites LIMIT 10
----

== Synthetic data

In addition to querying the data you can query infinite streams of synthetic data generated by the model. Here are a few rows of synthetic data.

[gensql]
----
SELECT * FROM
  GENERATE
    Country_of_Operator,
    Purpose
  UNDER satellites_model
  GIVEN Class_of_Orbit = "GEO" AND Dry_mass_kg = 500
LIMIT 10
----

These infinite streams of data can be used to explore hypotheticals. Which country most likely to operate of a satellite in geosynchronous orbit with a dry mass of 500 kilograms?

[gensql]
----
SELECT
  COUNT(*) AS count,
  Country_of_Operator
FROM
  (SELECT * FROM
    GENERATE Country_of_Operator
    UNDER satellites_model
    GIVEN Class_of_Orbit = "GEO" AND Dry_mass_kg = 500
  LIMIT 1000)
GROUP BY Purpose, Country_of_Operator
ORDER BY count DESC
LIMIT 10
----

What is the most likely purpose of a satellite in geosynchronous orbit with a dry mass of 500 kilograms?

[gensql]
----
SELECT
  COUNT(*) AS Count_Purpose_Country,
  Purpose,
  Country_of_Operator
FROM
  (SELECT * FROM
    GENERATE Country_of_Operator, Purpose
    UNDER satellites_model
    GIVEN Class_of_Orbit = "GEO" AND Dry_mass_kg = 500
  LIMIT 1000)
GROUP BY Purpose, Country_of_Operator
ORDER BY Count_Purpose_Country DESC
LIMIT 10
----

== Finding anomalies

In addition to querying the data you can query how probable the data is under the model.

[gensql]
----
SELECT
  PROBABILITY OF Period_minutes
  UNDER satellites_model
  AS prob,

  Period_minutes,
  Apogee_km
FROM satellites
ORDER BY prob
LIMIT 10
----

You can also find values that are anomalous only if you consider other values in the row.

[gensql]
----
SELECT
  PROBABILITY OF Period_minutes
  UNDER satellites_model
  GIVEN Apogee_km AND Perigee_km AND Class_of_Orbit
  AS prob,

  Period_minutes,
  Apogee_km
FROM satellites
ORDER BY prob
LIMIT 10
----
